<header class="d-flex  flex-row align-items-center justify-content-between px-4 p-3 mb-3
 bg-white border-bottom fixed-top shadow-sm">

  <img src="/assets/images/logo.png" al='logo' class="logo" routerLink="/" style="max-height: 60px;">

  <nav class="my-2 text-uppercase fs-5">
    <!-- d-inline-flex mt-2 mt-md-0 ms-md-auto -->
    <a class="p-2 text-dark " routerLink="/" routerLinkActive="active"
      [routerLinkActiveOptions]="{exact : true}">Home</a>
    <a class=" p-2 text-dark " routerLink="/shop" routerLinkActive="active">Shop</a>
    <a class=" p-2 text-dark " routerLink="/test-errors" routerLinkActive="active">Errors</a>
  </nav>
  <div class="d-flex align-items-center">


    <a routerLink="/basket" class="position-relative">
      <i class="fa fa-shopping-cart fa-2x me-5 text-dark"></i>
      <div class="cart-no" *ngIf="(basketService.basketSource$ |async) as basket">
        <!-- {{basket.items.length}}  for number of items   -->
        {{getCount(basket.items)}}
      </div>
    </a>
    <ng-container *ngIf="(accountService.CurrentUser$ |async) === null">

      <a routerLink="/account/login" class="btn btn-outline-secondary me-2"> Login</a>

      <a routerLink="/account/register" class="btn btn-outline-secondary me-3">Sign-up </a>
    </ng-container>
    
    <ng-container *ngIf="accountService.CurrentUser$ |async  as User">

      <div class="btn-group" style="cursor: pointer;" dropdown>
        <button id="button-animated" dropdownToggle type="button" class="btn  dropdown-toggle"
                aria-controls="dropdown-animated">
          Welcome {{User.displayName}}<span class="caret"></span>
        </button>
        <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu"
            role="menu" aria-labelledby="button-animated">
          <li role="menuitem"><a class="dropdown-item" routerLink='/basket'>
            <i class="fa fa-shopping-cart  me-3"> </i>View Basket</a>
          </li>
          <li role="menuitem"><a class="dropdown-item" routerLink='/orders'>
            <i class="fa fa-history  me-3"> </i>View Orders</a>
          </li>
          <div class="dropdown-divider"></div>
          <li role="menuitem"><a class="dropdown-item" (click)="accountService.logout()">
            <i class="fa fa-sign-out me-3"> </i>LogOut</a>
          </li>
         
        </ul>
      </div>
      
    </ng-container>

  </div>

</header>
